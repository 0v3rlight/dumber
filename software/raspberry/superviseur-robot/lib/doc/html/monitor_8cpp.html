<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Bibliotheques TP RT: src/monitor.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="robot-icon.resized.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Bibliotheques TP RT
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Bibliotheque de support pour TP/RT</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('monitor_8cpp.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">monitor.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Library for sending message to monitor or receiving message.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="monitor_8h_source.html">monitor.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="server_8h_source.html">server.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for monitor.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="monitor_8cpp__incl.png" border="0" usemap="#src_2monitor_8cpp" alt=""/></div>
<map name="src_2monitor_8cpp" id="src_2monitor_8cpp">
<area shape="rect" id="node2" href="monitor_8h.html" title="Library for sending message to monitor or receiving message. " alt="" coords="506,80,582,107"/>
<area shape="rect" id="node17" href="server_8h.html" title="server.h" alt="" coords="607,80,676,107"/>
<area shape="rect" id="node12" href="image_8h.html" title="Functions for image treatment. " alt="" coords="865,155,933,181"/>
<area shape="rect" id="node16" href="definitions_8h.html" title="Various constants used in destjil project. " alt="" coords="957,155,1049,181"/>
</map>
</div>
</div>
<p><a href="monitor_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a04c8d7ed93b301fafe6dcc08d64ba21b"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="monitor_8cpp.html#a04c8d7ed93b301fafe6dcc08d64ba21b">serverReceive</a> (int size)</td></tr>
<tr class="separator:a04c8d7ed93b301fafe6dcc08d64ba21b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7265ec937de7d9ca68b81e5bd8203962"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="monitor_8cpp.html#a7265ec937de7d9ca68b81e5bd8203962">sendMessage</a> (const char *data, int dataLength)</td></tr>
<tr class="separator:a7265ec937de7d9ca68b81e5bd8203962"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef87d80a1e44bf1953b3282967282ef0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="monitor_8cpp.html#aef87d80a1e44bf1953b3282967282ef0">receive</a> (char *data)</td></tr>
<tr class="separator:aef87d80a1e44bf1953b3282967282ef0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af49d46447ce41019bd13a2c07a000644"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="monitor_8cpp.html#af49d46447ce41019bd13a2c07a000644">send_message_to_monitor</a> (const char *typeMessage, const void *data)</td></tr>
<tr class="memdesc:af49d46447ce41019bd13a2c07a000644"><td class="mdescLeft">&#160;</td><td class="mdescRight">Envoi d'un message vers l'interface graphique.  <a href="#af49d46447ce41019bd13a2c07a000644">More...</a><br /></td></tr>
<tr class="separator:af49d46447ce41019bd13a2c07a000644"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61eca0d5b49118350db39583e1bd1032"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="monitor_8cpp.html#a61eca0d5b49118350db39583e1bd1032">receive_message_from_monitor</a> (char *typeMessage, char *data)</td></tr>
<tr class="memdesc:a61eca0d5b49118350db39583e1bd1032"><td class="mdescLeft">&#160;</td><td class="mdescRight">Réception d'un message. La fonction est bloquante et retourne par référence le type de message reçu (DMB pour un ordre au robot, ARN pour la détection des arènes et POS pour un calcul de position) ainsi que les données associées.  <a href="#a61eca0d5b49118350db39583e1bd1032">More...</a><br /></td></tr>
<tr class="separator:a61eca0d5b49118350db39583e1bd1032"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a1f38ae3a59ce304779ebbca10378654a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="monitor_8h.html#a29046dc0232f0e5c70adbc25090d77b8">SOCKADDR_IN</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="monitor_8cpp.html#a1f38ae3a59ce304779ebbca10378654a">ssin</a></td></tr>
<tr class="separator:a1f38ae3a59ce304779ebbca10378654a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e91849780a994f2adde299b33642829"><td class="memItemLeft" align="right" valign="top"><a class="el" href="monitor_8h.html#a8dc8083897335125630f1af5dafd5831">SOCKET</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="monitor_8cpp.html#a6e91849780a994f2adde299b33642829">sock</a></td></tr>
<tr class="separator:a6e91849780a994f2adde299b33642829"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd1a03adb2455aaacbd886642518d569"><td class="memItemLeft" align="right" valign="top">socklen_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="monitor_8cpp.html#acd1a03adb2455aaacbd886642518d569">recsize</a> = sizeof (<a class="el" href="monitor_8cpp.html#a1f38ae3a59ce304779ebbca10378654a">ssin</a>)</td></tr>
<tr class="separator:acd1a03adb2455aaacbd886642518d569"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Library for sending message to monitor or receiving message. </p>
<dl class="section author"><dt>Author</dt><dd>L.senaneuch </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>06/06/2017 </dd></dl>

<p class="definition">Definition in file <a class="el" href="monitor_8cpp_source.html">monitor.cpp</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="aef87d80a1e44bf1953b3282967282ef0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef87d80a1e44bf1953b3282967282ef0">&#9670;&nbsp;</a></span>receive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int receive </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monitor_8cpp_source.html#l00090">90</a> of file <a class="el" href="monitor_8cpp_source.html">monitor.cpp</a>.</p>

</div>
</div>
<a id="a61eca0d5b49118350db39583e1bd1032"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61eca0d5b49118350db39583e1bd1032">&#9670;&nbsp;</a></span>receive_message_from_monitor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int receive_message_from_monitor </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>typeMessage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Réception d'un message. La fonction est bloquante et retourne par référence le type de message reçu (DMB pour un ordre au robot, ARN pour la détection des arènes et POS pour un calcul de position) ainsi que les données associées. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">typeMessage</td><td>Type du message reçu : DMB pour un ordre au robot, ARN pour la demande de détection de l'arène, POS pour un calcul de position et MSG pour un message de l'interface </td></tr>
    <tr><td class="paramname">data</td><td>données associées au message reçu. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>retourne 0 la taille du message reçu ou une valeur négative si la connexion est perdue. </dd></dl>

<p class="definition">Definition at line <a class="el" href="monitor_8cpp_source.html#l00083">83</a> of file <a class="el" href="monitor_8cpp_source.html">monitor.cpp</a>.</p>

</div>
</div>
<a id="af49d46447ce41019bd13a2c07a000644"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af49d46447ce41019bd13a2c07a000644">&#9670;&nbsp;</a></span>send_message_to_monitor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int send_message_to_monitor </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>typeMessage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Envoi d'un message vers l'interface graphique. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">typeMessage</td><td>Type du message envoyé. Les valeurs possibles sont IMG pour une image, MES pour un message à afficher dans la console, POS pour la position du robot, BAT pour une valeur de la batterie et ACK pour valider un message de l'interface. </td></tr>
    <tr><td class="paramname">data</td><td>données associées au message. Le type de la donnée doit correspondre au message : Image pour IMG, char * MES, <a class="el" href="struct_position.html">Position</a> pour POS, char * pour BAT et rien pour ACK. Attention, il n'y a aucune vérification a posterio. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>retourne 0 si l'envoie a bien été réalisé et -1 en cas de problème. </dd></dl>

<p class="definition">Definition at line <a class="el" href="monitor_8cpp_source.html#l00040">40</a> of file <a class="el" href="monitor_8cpp_source.html">monitor.cpp</a>.</p>

</div>
</div>
<a id="a7265ec937de7d9ca68b81e5bd8203962"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7265ec937de7d9ca68b81e5bd8203962">&#9670;&nbsp;</a></span>sendMessage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sendMessage </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dataLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monitor_8cpp_source.html#l00097">97</a> of file <a class="el" href="monitor_8cpp_source.html">monitor.cpp</a>.</p>

</div>
</div>
<a id="a04c8d7ed93b301fafe6dcc08d64ba21b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04c8d7ed93b301fafe6dcc08d64ba21b">&#9670;&nbsp;</a></span>serverReceive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string serverReceive </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="acd1a03adb2455aaacbd886642518d569"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd1a03adb2455aaacbd886642518d569">&#9670;&nbsp;</a></span>recsize</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">socklen_t recsize = sizeof (<a class="el" href="monitor_8cpp.html#a1f38ae3a59ce304779ebbca10378654a">ssin</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monitor_8cpp_source.html#l00033">33</a> of file <a class="el" href="monitor_8cpp_source.html">monitor.cpp</a>.</p>

</div>
</div>
<a id="a6e91849780a994f2adde299b33642829"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e91849780a994f2adde299b33642829">&#9670;&nbsp;</a></span>sock</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="monitor_8h.html#a8dc8083897335125630f1af5dafd5831">SOCKET</a> sock</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monitor_8cpp_source.html#l00032">32</a> of file <a class="el" href="monitor_8cpp_source.html">monitor.cpp</a>.</p>

</div>
</div>
<a id="a1f38ae3a59ce304779ebbca10378654a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f38ae3a59ce304779ebbca10378654a">&#9670;&nbsp;</a></span>ssin</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="monitor_8h.html#a29046dc0232f0e5c70adbc25090d77b8">SOCKADDR_IN</a> ssin</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="monitor_8cpp_source.html#l00031">31</a> of file <a class="el" href="monitor_8cpp_source.html">monitor.cpp</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="monitor_8cpp.html">monitor.cpp</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
